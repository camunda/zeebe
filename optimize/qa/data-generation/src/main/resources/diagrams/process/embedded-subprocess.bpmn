<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_1w3f8up" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="1.12.0">
  <bpmn:process id="embeddedSubprocess" name="Embedded Subprocess" isExecutable="true">
    <bpmn:startEvent id="StartEvent_1" name="Loan Application Received" camunda:asyncBefore="true">
      <bpmn:outgoing>SequenceFlow_0e3b202</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0e3b202" sourceRef="StartEvent_1" targetRef="Task_12bugzq" />
    <bpmn:subProcess id="Task_12bugzq" name="Evaluate Loan Application">
      <bpmn:incoming>SequenceFlow_0e3b202</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_07z5ntf</bpmn:outgoing>
      <bpmn:startEvent id="StartEvent_0q5j28j">
        <bpmn:outgoing>SequenceFlow_1357x1f</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="SequenceFlow_1357x1f" sourceRef="StartEvent_0q5j28j" targetRef="ExclusiveGateway_0auzjwj" />
      <bpmn:parallelGateway id="ExclusiveGateway_0auzjwj">
        <bpmn:incoming>SequenceFlow_1357x1f</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_1ihr1yl</bpmn:outgoing>
        <bpmn:outgoing>SequenceFlow_0fcvstp</bpmn:outgoing>
      </bpmn:parallelGateway>
      <bpmn:sequenceFlow id="SequenceFlow_1ihr1yl" sourceRef="ExclusiveGateway_0auzjwj" targetRef="Task_0th4ivq" />
      <bpmn:sequenceFlow id="SequenceFlow_0fcvstp" sourceRef="ExclusiveGateway_0auzjwj" targetRef="Task_1q83i19" />
      <bpmn:endEvent id="EndEvent_12jm8nf">
        <bpmn:incoming>SequenceFlow_0ihayyf</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="SequenceFlow_0ihayyf" sourceRef="Task_0th4ivq" targetRef="EndEvent_12jm8nf" />
      <bpmn:endEvent id="EndEvent_0ldsgl3">
        <bpmn:incoming>SequenceFlow_14tue2n</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="SequenceFlow_14tue2n" sourceRef="Task_1q83i19" targetRef="EndEvent_0ldsgl3" />
      <bpmn:userTask id="Task_0th4ivq" name="Assess Credit Worthiness">
        <bpmn:incoming>SequenceFlow_1ihr1yl</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_0ihayyf</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:serviceTask id="Task_1q83i19" name="Register Application" camunda:expression="${true}">
        <bpmn:incoming>SequenceFlow_0fcvstp</bpmn:incoming>
        <bpmn:outgoing>SequenceFlow_14tue2n</bpmn:outgoing>
      </bpmn:serviceTask>
    </bpmn:subProcess>
    <bpmn:exclusiveGateway id="ExclusiveGateway_15f1szd" default="SequenceFlow_1gmwzkl">
      <bpmn:extensionElements>
        <camunda:executionListener event="start">
          <camunda:script scriptFormat="groovy"><![CDATA[execution.setVariable("acceptLoan", new Random().nextDouble()<0.7 );]]></camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_07z5ntf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0mg2umf</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_1gmwzkl</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="SequenceFlow_07z5ntf" sourceRef="Task_12bugzq" targetRef="ExclusiveGateway_15f1szd" />
    <bpmn:sequenceFlow id="SequenceFlow_0mg2umf" sourceRef="ExclusiveGateway_15f1szd" targetRef="Task_15nlg9y">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${acceptLoan}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="SequenceFlow_1gmwzkl" sourceRef="ExclusiveGateway_15f1szd" targetRef="Task_05lwlbr" />
    <bpmn:endEvent id="EndEvent_0jnuosq" name="Loan Application Accepted">
      <bpmn:incoming>SequenceFlow_1ubsm9m</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_1ubsm9m" sourceRef="Task_15nlg9y" targetRef="EndEvent_0jnuosq" />
    <bpmn:endEvent id="EndEvent_1x7bzxm" name="Loan Application Declined">
      <bpmn:incoming>SequenceFlow_0nwhvyw</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="SequenceFlow_0nwhvyw" sourceRef="Task_05lwlbr" targetRef="EndEvent_1x7bzxm" />
    <bpmn:serviceTask id="Task_15nlg9y" name="Accept Loan Application" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_0mg2umf</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1ubsm9m</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_05lwlbr" name="Decline Loan Application" camunda:expression="${true}">
      <bpmn:incoming>SequenceFlow_1gmwzkl</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0nwhvyw</bpmn:outgoing>
    </bpmn:serviceTask>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="embeddedSubprocess">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="153" y="155" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="130" y="191" width="82" height="24" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0e3b202_di" bpmnElement="SequenceFlow_0e3b202">
        <di:waypoint x="189" y="173" />
        <di:waypoint x="342" y="173" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="265.5" y="152" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="SubProcess_0n6gmvw_di" bpmnElement="Task_12bugzq" isExpanded="true">
        <dc:Bounds x="342" y="20" width="518" height="306" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="StartEvent_0q5j28j_di" bpmnElement="StartEvent_0q5j28j">
        <dc:Bounds x="388" y="153" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="406" y="193" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1357x1f_di" bpmnElement="SequenceFlow_1357x1f">
        <di:waypoint x="424" y="171" />
        <di:waypoint x="474" y="171" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="449" y="150" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ParallelGateway_1lbz7oe_di" bpmnElement="ExclusiveGateway_0auzjwj">
        <dc:Bounds x="474" y="146" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="534" y="165" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1ihr1yl_di" bpmnElement="SequenceFlow_1ihr1yl">
        <di:waypoint x="499" y="146" />
        <di:waypoint x="499" y="116" />
        <di:waypoint x="574" y="116" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="514" y="125" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0fcvstp_di" bpmnElement="SequenceFlow_0fcvstp">
        <di:waypoint x="499" y="196" />
        <di:waypoint x="499" y="226" />
        <di:waypoint x="574" y="226" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="514" y="205" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_12jm8nf_di" bpmnElement="EndEvent_12jm8nf">
        <dc:Bounds x="724" y="98" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="742" y="138" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ihayyf_di" bpmnElement="SequenceFlow_0ihayyf">
        <di:waypoint x="674" y="116" />
        <di:waypoint x="724" y="116" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="699" y="95" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0ldsgl3_di" bpmnElement="EndEvent_0ldsgl3">
        <dc:Bounds x="724" y="208" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="742" y="248" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_14tue2n_di" bpmnElement="SequenceFlow_14tue2n">
        <di:waypoint x="674" y="226" />
        <di:waypoint x="724" y="226" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="699" y="205" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="UserTask_0e149pr_di" bpmnElement="Task_0th4ivq">
        <dc:Bounds x="574" y="76" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1qv0x0v_di" bpmnElement="Task_1q83i19">
        <dc:Bounds x="574" y="186" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ExclusiveGateway_15f1szd_di" bpmnElement="ExclusiveGateway_15f1szd" isMarkerVisible="true">
        <dc:Bounds x="953" y="148" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="978" y="126" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_07z5ntf_di" bpmnElement="SequenceFlow_07z5ntf">
        <di:waypoint x="860" y="173" />
        <di:waypoint x="953" y="173" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="906.5" y="152" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0mg2umf_di" bpmnElement="SequenceFlow_0mg2umf">
        <di:waypoint x="1003" y="173" />
        <di:waypoint x="1102" y="173" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1052.5" y="152" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_1gmwzkl_di" bpmnElement="SequenceFlow_1gmwzkl">
        <di:waypoint x="978" y="198" />
        <di:waypoint x="978" y="283" />
        <di:waypoint x="1102" y="283" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="993" y="234.5" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_0jnuosq_di" bpmnElement="EndEvent_0jnuosq">
        <dc:Bounds x="1335" y="155" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1312" y="195" width="82" height="24" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1ubsm9m_di" bpmnElement="SequenceFlow_1ubsm9m">
        <di:waypoint x="1202" y="173" />
        <di:waypoint x="1335" y="173" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1268.5" y="152" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="EndEvent_1x7bzxm_di" bpmnElement="EndEvent_1x7bzxm">
        <dc:Bounds x="1335" y="265" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1312" y="305" width="82" height="24" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0nwhvyw_di" bpmnElement="SequenceFlow_0nwhvyw">
        <di:waypoint x="1202" y="283" />
        <di:waypoint x="1335" y="283" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1268.5" y="262" width="0" height="12" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_079jfao_di" bpmnElement="Task_15nlg9y">
        <dc:Bounds x="1102" y="133" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1n79gx4_di" bpmnElement="Task_05lwlbr">
        <dc:Bounds x="1102" y="243" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
